<?xml version="1.0" encoding="utf-8" standalone="yes" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>Network on byteink</title>
    <link>https://byteink.net/tags/network/index.xml</link>
    <description>Recent content in Network on byteink</description>
    <generator>Hugo -- gohugo.io</generator>
    <language>en-us</language>
    <copyright>byteink</copyright>
    <atom:link href="https://byteink.net/tags/network/index.xml" rel="self" type="application/rss+xml" />
    
    <item>
      <title>UNIX 网络编程中SOCKET错误小结</title>
      <link>https://byteink.net/2012/12/05/unp_socket_error/</link>
      <pubDate>Wed, 05 Dec 2012 00:00:00 +0000</pubDate>
      
      <guid>https://byteink.net/2012/12/05/unp_socket_error/</guid>
      <description>

&lt;h2 id=&#34;udp&#34;&gt;UDP&lt;/h2&gt;

&lt;h3 id=&#34;write&#34;&gt;write&lt;/h3&gt;

&lt;ul&gt;
&lt;li&gt;写一个数据报大小大于发送缓冲区 EMSGSIZE&lt;br /&gt;&lt;/li&gt;
&lt;li&gt;数据链路层输出队列空间不足 ENOBUFS&lt;br /&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&#34;tcp&#34;&gt;TCP&lt;/h2&gt;

&lt;h3 id=&#34;产生rst的三个条件&#34;&gt;产生RST的三个条件:&lt;/h3&gt;

&lt;ul&gt;
&lt;li&gt;目的地为某端口的SYN到达，但服务器没有在监听&lt;/li&gt;
&lt;li&gt;TCP想取消一个已有链接&lt;/li&gt;
&lt;li&gt;TCP收到一个不存在的连接上的分节&lt;br /&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;h3 id=&#34;connet&#34;&gt;connet&lt;/h3&gt;

&lt;ul&gt;
&lt;li&gt;客户未收到SYN的响应，规定时间内重发SYN，失败返回 ETIMEDOUT&lt;br /&gt;&lt;/li&gt;
&lt;li&gt;对客户SYN的响应是RST，表示在指定的端口上没有进程在监听，马上返回 ECONNREFUSED&lt;br /&gt;&lt;/li&gt;
&lt;li&gt;客户的SYN在中间路由器引发“destination unreachable”ICMP错误， 规定时间内重发SYN，失败返回 EHOSTUNREACH 或 ENETUNREACH&lt;br /&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;h3 id=&#34;listen&#34;&gt;listen&lt;/h3&gt;

&lt;ul&gt;
&lt;li&gt;客户SYN到达，listen队列是满的，TCP就忽略该分节，不发送RST&lt;/li&gt;
&lt;/ul&gt;

&lt;h3 id=&#34;accpet&#34;&gt;accpet&lt;/h3&gt;

&lt;ul&gt;
&lt;li&gt;三路握手完成，调用accpet之前，收到客户的RST： accept返回 ECONNABORTED 错误&lt;/li&gt;
&lt;/ul&gt;

&lt;h3 id=&#34;write-1&#34;&gt;write&lt;/h3&gt;

&lt;ul&gt;
&lt;li&gt;向一个已收到RST的套接字写操作，内核发送SIGPIPE信号，写操作返回 EPIPE&lt;br /&gt;&lt;/li&gt;
&lt;li&gt;服务器崩溃，规定时间内重传，失败后返回 ETIMEOUT，若中间路由判定主机不可达，返回 EHOSTUNREACH 或 ENETUNREACH&lt;br /&gt;&lt;/li&gt;
&lt;li&gt;写半部已关闭，EPIPE&lt;br /&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;h3 id=&#34;read&#34;&gt;read&lt;/h3&gt;

&lt;ul&gt;
&lt;li&gt;非阻塞，无数据 EAGAIN  or  EWOULDBLOCK&lt;/li&gt;
&lt;/ul&gt;
</description>
    </item>
    
  </channel>
</rss>